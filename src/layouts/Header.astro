---
import { Image } from "astro:assets";
import { Icon } from "astro-icon";

import { cn } from "@/lib/utils";

const pathname = new URL(Astro.request.url).pathname;
---

<header class="fixed left-1/2 top-5 z-20 -translate-x-1/2 px-5">
  <div
    class="container mx-auto flex items-center justify-center gap-6 rounded-3xl bg-blue-100 p-3.5 shadow-xl sm:gap-3"
  >
    <a href="/" class="shrink-0"
      ><Image
        src="/logo.png"
        width="64"
        height="41"
        alt="logo"
        class="mx-auto h-auto w-[40px]"
        fetchpriority="high"
        loading="eager"
      /></a
    >

    <button class="sm:hidden">
      <Icon pack="lucide" name="menu" class="h-6 w-6 text-blue-950" /></button
    >

    <nav class="hidden sm:block">
      <ul class="flex items-center gap-1">
        <li>
          <a href="/" class={cn(pathname === "/" && "active")}>Home</a>
        </li>
        <li>
          <a
            href="/projects"
            class={cn(pathname.startsWith("/project") && "active")}>Projects</a
          >
        </li>
        <li>
          <a
            href="/nonprofit"
            class={cn(pathname.startsWith("/nonprofit") && "active")}
            >Nonprofit</a
          >
        </li>
        <li>
          <a href="/about" class={cn(pathname.startsWith("/about") && "active")}
            >About</a
          >
        </li>
      </ul>
    </nav>
  </div>
</header>
